{% extends 'core/base.html' %}

{% block title%}Cart{% endblock %}

{% block content %}
    <h2 class="mb-12 text-2xl text-center">Order number: {{ cart.id }}</h2>
        <div class="pb-6 grid grid-cols-12 gap-4 bg-gray-100 overflow-auto max-h-screen">
            <ul class="pl-6 flex justify-start col-span-10">
                ITEM
            </ul>
            <ul class="col-span-1 flex justify-center">
                QUANTITY
            </ul>
            <ul class="col-span-1 flex justify-center">
                PRICE
            </ul>
                {% for item in cartitems %}
                <ul class="col-span-10">
                    <li class="flex justify-start">
                        <img src="{{ item.item.image.url }}" class="lg:h-24 rounded-t-xl sm:h-auto">
                    </li>
                    <li class="pl-6 flex justify-start">
                        <p class="text-gray-600">{{ item.item.name }}</p>
                    </li>
                </ul>
                <ul class="col-span-1">
                    <li class="flex justify-center">
                        <p class="text-gray-600">{{ item.quantity }}</p>
                    </li>
                </ul>
                <ul class="col-span-1">
                    <li class="flex justify-center">
                        <p class="text-gray-600">{{ item.price }}</p>
                    </li>
                </ul>
                {% endfor %}
            
        </div>
        <div class="flex justify-end mt-8 mr-4">
            {% if not coupon_exists %}
                <p class="inline-block px-3 py-2 text-lg font-semibold">Total paid: {{ total }}</p>
            {% else %}
                <p class="inline-block px-3 py-2 text-lg font-semibold">Discount: {{ cart.coupon }}%</p>
                <p class="inline-block px-3 py-2 text-lg font-semibold">Total paid: {{ new_total }}</p>
            {% endif %}
        </div>
{% endblock %}